<html>
<head>
    <title> Scicence and Engineering Day </title>
    <script src="blockly_compressed.js"></script>
    <script src="javascript_compressed.js"></script>
    <script src="python_compressed.js"></script>
    <script src="blocks_compressed.js"></script>
    <script src="./blocks/robots.js"></script>
    <script src="./generators/python/robots.js"></script>
    <script src="msg/js/en.js"></script>
    <script src="saver.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">

<script>
var workspace;
var move_forward_power = 120;

function clickMe(){
    var header_start = "import time\n";
    var code = Blockly.Python.workspaceToCode(workspace);

    var new_code = code.concat(header_start);

    var blob = new Blob([new_code], {type: "text/plain;charset=utf-8"});
    saveAs(blob, "hello world.py");
}

function loadMe(){
    alert("Welcome to the Science and Engineering day !!!");
  workspace = Blockly.inject('blocklyDiv',
    {toolbox: document.getElementById('toolbox')});   
}
</script>

</head>
<body onload="loadMe()">
    <div id="welcome" align="center">

        <h1>
            Science and Engineering day code editor
        </h1>
        <p>
            Welcome to the code editor, this is really easy to use, just drag and drop
            the blocks to make a program that the robot will run! Then click the "Export"
            button.
        </p>
        <p>
            If in doubt ask a volunteer for help :)
        </p>
        <button name = "Export !!!" title="Click me!" onclick="clickMe()"> Export!!! </button>
        <p></p>

        <div id="blocklyDiv" style="height: 480px; width: screen.width">

    </div>

</div>
</body>
<xml id="toolbox" style="display: none">
  <block type="turn_left"></block>
  <block type="turn_right"></block>
  <block type="go_forward"></block>
  <block type="go_backward"></block>
</xml>
</html>